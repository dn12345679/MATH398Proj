[gd_scene load_steps=13 format=3 uid="uid://ddjcfjvwq7uec"]

[ext_resource type="Script" path="res://Scripts/LevelHandlers/StatisticsQuincunxHandler.gd" id="1_8pabp"]
[ext_resource type="PackedScene" uid="uid://favil3r5k7h7" path="res://Components/CameraComponent.tscn" id="1_l3e3o"]
[ext_resource type="PackedScene" uid="uid://buolqtcajlxo6" path="res://Components/MascotComponent.tscn" id="2_bwrmu"]
[ext_resource type="Texture2D" uid="uid://ca4doob4seidf" path="res://Assets/Images/checkered_background.png" id="3_8rtlb"]
[ext_resource type="PackedScene" uid="uid://ict2dr1q6yv8" path="res://Components/PixelationTransitionComponent.tscn" id="3_h1iwf"]
[ext_resource type="PackedScene" uid="uid://dcx3grdchm1hd" path="res://Components/ObjectiveComponent.tscn" id="4_mhuwf"]
[ext_resource type="PackedScene" uid="uid://bbt3x8ytel0qp" path="res://Components/UIComponent.tscn" id="5_enakr"]
[ext_resource type="PackedScene" uid="uid://b4ovib41ojf05" path="res://Components/Quincunx2D.tscn" id="7_tcwbj"]
[ext_resource type="PackedScene" uid="uid://ca3grmv65umbt" path="res://Components/QuincunxBall2D.tscn" id="8_1xq8s"]
[ext_resource type="Texture2D" uid="uid://cb0cy4nxqwuyi" path="res://Assets/Images/quincunx_bar.png" id="9_h1rur"]
[ext_resource type="PackedScene" uid="uid://7wejgylivpdc" path="res://Components/DistributionChart.tscn" id="11_u2x0b"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0snp0"]
size = Vector2(573, 52)

[node name="StatisticsQuincunx" type="Node2D" node_paths=PackedStringArray("spawn_handler", "chart", "objective", "game_ui", "mascot", "camera")]
script = ExtResource("1_8pabp")
spawn_handler = NodePath("SpawnBallNode")
chart = NodePath("DistributionChart")
quincunx_ball = ExtResource("8_1xq8s")
objective = NodePath("ObjectiveComponent")
game_ui = NodePath("GameUI")
mascot = NodePath("MascotComponent")
camera = NodePath("CameraComponent")

[node name="CheckeredBackground" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.564706)
texture_filter = 3
position = Vector2(2, -1.19209e-07)
scale = Vector2(16.1, 16.1)
texture = ExtResource("3_8rtlb")

[node name="CameraComponent" parent="." instance=ExtResource("1_l3e3o")]

[node name="MascotComponent" parent="." instance=ExtResource("2_bwrmu")]
position = Vector2(-192, 64)

[node name="Pixelation" parent="." instance=ExtResource("3_h1iwf")]
visible = false
scale = Vector2(0.5, 0.5)

[node name="ObjectiveComponent" parent="." instance=ExtResource("4_mhuwf")]
z_index = 99
position = Vector2(8, -40)

[node name="GameUI" parent="." instance=ExtResource("5_enakr")]
metadata/_edit_lock_ = true

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]

[node name="Quincunx2D" parent="." instance=ExtResource("7_tcwbj")]

[node name="SpawnBallNode" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="QuincunxSpawn" type="Node2D" parent="SpawnBallNode"]
position = Vector2(3, -140)

[node name="SpawnBall" type="TextureButton" parent="SpawnBallNode"]
texture_filter = 3
layout_mode = 0
offset_left = -208.0
offset_top = -116.0
offset_right = -176.0
offset_bottom = -84.0
scale = Vector2(2, 1)
texture_normal = ExtResource("9_h1rur")

[node name="Label" type="Label" parent="SpawnBallNode"]
modulate = Color(0, 0, 0, 1)
texture_filter = 3
layout_mode = 0
offset_left = -202.0
offset_top = -111.0
offset_right = -150.0
offset_bottom = -88.0
text = "+1 Ball"

[node name="BallCounter" type="Area2D" parent="."]
position = Vector2(-274, 177)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="BallCounter"]
position = Vector2(276.5, 16)
shape = SubResource("RectangleShape2D_0snp0")

[node name="DistributionChart" parent="." instance=ExtResource("11_u2x0b")]

[connection signal="pressed" from="SpawnBallNode/SpawnBall" to="." method="_on_spawn_ball_pressed"]
[connection signal="body_entered" from="BallCounter" to="." method="_on_ball_counter_body_entered"]
